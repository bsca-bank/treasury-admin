# -*- coding: utf-8 -*-
# Generated by Django 1.10 on 2017-10-08 09:15
from __future__ import unicode_literals

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import transfert.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('tiers', '0001_initial'),
        ('util', '0008_catalog_type_product'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('interface', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='DossierCouvr',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('obs', models.TextField(blank=True, null=True)),
                ('ref_id', models.CharField(blank=True, max_length=20, null=True)),
                ('date_trd', models.DateField()),
                ('date_val_out', models.DateField(blank=True, null=True)),
                ('montant_out', models.DecimalField(decimal_places=0, max_digits=18)),
                ('date_val_in', models.DateField(blank=True, null=True)),
                ('montant_in', models.DecimalField(decimal_places=2, max_digits=18)),
                ('chk_ok', models.BooleanField(default=False)),
                ('chk_pay', models.BooleanField(default=False)),
                ('montant_payment', models.DecimalField(blank=True, decimal_places=0, max_digits=18, null=True)),
                ('date_commission', models.DateField(blank=True, null=True)),
                ('chk_commission', models.BooleanField(default=False)),
                ('montant_commission', models.DecimalField(blank=True, decimal_places=0, max_digits=18, null=True)),
                ('chk_couvr', models.BooleanField(default=False)),
                ('montant_couvr', models.DecimalField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('account_in', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='account_couvr', to='tiers.AccountCorresp')),
                ('account_out', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='account_pay', to='tiers.AccountCorresp')),
                ('autorite', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='tiers.Autorite')),
                ('ccy_in', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ccy_couvr', to='util.Ccy')),
                ('ccy_out', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ccy_pay', to='util.Ccy')),
                ('corresp_in', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='corresp_couvr', to='tiers.Corresp')),
                ('corresp_out', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='corresp_pay', to='tiers.Corresp')),
                ('msg_commission', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='msg_commission', to='interface.Sygma')),
                ('msg_payment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='msg_payment', to='interface.Sygma')),
                ('oper_cli', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('statut', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='util.Statut')),
            ],
            options={
                'db_table': 'TRF_DOSSIER_COUVR',
                'verbose_name': 'Dossier de couverture BEAC',
                'verbose_name_plural': 'Dossier de couverture BEAC',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DossierCtrl',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nature', models.IntegerField(choices=[(0, 'RPT'), (1, 'TRF')], default=1)),
                ('date_saisie', models.DateField(auto_now_add=True, null=True)),
                ('ref_id', models.CharField(blank=True, default=None, max_length=20, null=True)),
                ('alias', models.CharField(max_length=30)),
                ('code_client', models.CharField(max_length=6)),
                ('benef', models.CharField(max_length=200)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=18)),
                ('obs', models.TextField(blank=True, null=True)),
                ('chk_dossier', models.IntegerField(blank=True, choices=[(0, '/REJET'), (1, '/OK'), (2, '/INCMPLT'), (9, '/NCOUVR')], null=True, verbose_name='Chk Dossier')),
                ('date_recu', models.DateField(blank=True, null=True, verbose_name='Date re\xe7u')),
                ('chk_go', models.BooleanField(default=False, verbose_name='Chk DMF')),
                ('date_go', models.DateField(blank=True, help_text="Cochez si dossier a \xe9t\xe9 transmit pour l'\xe9x\xe9cution", null=True, verbose_name='Date GO')),
                ('chk_exec', models.BooleanField(default=False, help_text="Cochez si la r\xe9f\xe9rence d'\xe9x\xe9cution a \xe9t\xe9 g\xe9n\xe9r\xe9e par le syst\xe8me", verbose_name='Chk DOP')),
                ('chk_pay', models.BooleanField(default=False, help_text='Cochez si transaction confirm\xe9e par un relev\xe9 du compte', verbose_name='Chk Corresp')),
                ('date_val', models.DateField(blank=True, help_text="Date d'ex\xe9cution", null=True)),
                ('date_inv', models.DateField(null=True, verbose_name='Date de facture')),
                ('chk_fx', models.BooleanField(default=False)),
                ('account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.AccountCorresp', verbose_name='Account')),
                ('autorite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.Autorite')),
                ('ccy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='util.Ccy')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.ClientCtrl')),
                ('corresp', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.Corresp', verbose_name='Correspondant')),
                ('nomenclature', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='util.Catalog_Type_Commercial')),
                ('oper_approv', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='chk_user2', to=settings.AUTH_USER_MODEL, verbose_name='Approbateur')),
                ('oper_cli', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('oper_verify', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='chk_user1', to=settings.AUTH_USER_MODEL, verbose_name='Cont\xf4leur')),
                ('statut', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='util.Statut')),
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT (Ctrl TRESOR)',
                'db_table': 'TRF_DOSSIER_CTRL',
                'managed': True,
                'verbose_name_plural': 'Dossier TRF/RPT (Ctrl TRESOR)',
            },
        ),
        migrations.CreateModel(
            name='DossierCtrlFile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(upload_to=transfert.models.upload_path_handler)),
                ('obs', models.CharField(blank=True, max_length=200, null=True)),
                ('dossier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='transfert.DossierCtrl')),
            ],
            options={
                'db_table': 'TRF_DOSSIER_CTRL_FILE',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TrfDossierApure',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ref_id', models.CharField(max_length=50, verbose_name='No.DI/GUOT')),
                ('ref_inv', models.CharField(blank=True, max_length=100, null=True, verbose_name='No. de facture')),
                ('date_ref', models.DateField(blank=True, null=True)),
                ('montant', models.DecimalField(blank=True, decimal_places=2, max_digits=18, null=True, verbose_name='Montant Total')),
                ('chk_ok', models.BooleanField(default=False, verbose_name='Chk Valid\xe9')),
            ],
            options={
                'verbose_name': 'Apurement TRF/RPT D\xe9tail',
                'db_table': 'TRF_DOSSIER_APURE_DETAIL',
                'managed': True,
                'verbose_name_plural': 'Apurement TRF/RPT D\xe9tail',
            },
        ),
        migrations.CreateModel(
            name='TrfDossierCouvrCtrl',
            fields=[
                ('apbkdopi_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='interface.ApBkdopi')),
                ('ctrl', models.BooleanField(db_column='CTRL', default=False)),
                ('dossierCouvr', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='transfert.DossierCouvr')),
                ('dossierCtrl', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='transfert.DossierCtrl')),
                ('statut', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='util.Statut')),
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT en stock (Bkdopi)',
                'db_table': 'TRF_DOSSIER_COUVR_CTRL',
                'managed': True,
                'verbose_name_plural': 'Dossier TRF/RPT en stock (Bkdopi)',
            },
            bases=('interface.apbkdopi',),
        ),
        migrations.CreateModel(
            name='TrfDossierFx',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nature', models.IntegerField(choices=[(0, '/FX'), (1, '/FEE')], default=1)),
                ('fee_rate', models.FloatField(default=0, help_text='Taux de commission(ex. 2,0% = 0.02)', verbose_name='Fee Rate(HT)')),
                ('fx_rate', models.FloatField(blank=True, default=0, help_text='Taux de change(ex. 655.957)', null=True, verbose_name='FX Rate')),
                ('chk_ok', models.BooleanField(default=False, help_text='Cochez si le taux fx a \xe9t\xe9 approuv\xe9', verbose_name='Chk OK')),
                ('date_val', models.DateField(blank=True, help_text="Date d'Approbation", null=True, verbose_name='Value Date')),
                ('montant', models.IntegerField(blank=True, null=True, verbose_name='Frais(XAF)')),
                ('montant_tva', models.IntegerField(blank=True, null=True, verbose_name='TVA(XAF)')),
                ('date_pay', models.DateField(blank=True, help_text='Date de Facturation', null=True, verbose_name='Pay Date')),
                ('chk_pay', models.BooleanField(default=False, help_text='Cochez si la facturation a \xe9t\xe9 effectu\xe9e', verbose_name='Chk pay')),
                ('ccy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ccy_trfDossierFx', to='util.Ccy')),
                ('clientCtrlFile', models.ForeignKey(blank=True, help_text='Pi\xe8ce justificative', null=True, on_delete=django.db.models.deletion.CASCADE, to='tiers.ClientCtrlFile', verbose_name='Document')),
                ('dossierCtrl', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='transfert.DossierCtrl')),
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT FX',
                'db_table': 'TRF_DOSSIER_FX',
                'managed': True,
                'verbose_name_plural': 'Dossier TRF/RPT FX',
            },
        ),
        migrations.CreateModel(
            name='TrfDossierIncomplet',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('statut', models.IntegerField(choices=[(0, None), (1, '/OK'), (2, '/NCOUVR')], default=0)),
                ('date_val', models.DateField(blank=True, null=True)),
                ('chk_inv_obs', models.CharField(blank=True, max_length=50, null=True, verbose_name='Obs. sur la facture')),
                ('chk_inv', models.BooleanField(default=False, verbose_name='Chk Facture')),
                ('chk_contrat_obs', models.CharField(blank=True, max_length=50, null=True, verbose_name='Obs. sur le contrat')),
                ('chk_contrat', models.BooleanField(default=False, verbose_name='Chk Contrat')),
                ('chk_di_obs', models.CharField(blank=True, max_length=50, null=True, verbose_name='Obs. sur le D.I.')),
                ('chk_di', models.BooleanField(default=False, verbose_name='Chk D.I.')),
                ('chk_autres_obs', models.TextField(blank=True, null=True, verbose_name='Autres Observation')),
                ('chk_autres', models.BooleanField(default=False, verbose_name='Chk Autres')),
                ('chk_ok', models.BooleanField(default=False, verbose_name='Chk Valid\xe9')),
                ('date_examen', models.DateField(blank=True, null=True)),
                ('chk_appro', models.BooleanField(default=False, verbose_name='Chk Approuv\xe9')),
                ('obs', models.TextField(blank=True, null=True)),
                ('dossierCtrl', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='transfert.DossierCtrl')),
                ('oper_appro', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='oper_appro', to=settings.AUTH_USER_MODEL, verbose_name='Approuv\xe9 par')),
                ('oper_ok', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='oper_ok', to=settings.AUTH_USER_MODEL, verbose_name='Valid\xe9 par')),
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT Incomplet',
                'db_table': 'TRF_DOSSIER_INCOMPLET',
                'managed': True,
                'verbose_name_plural': 'Dossier TRF/RPT Incomplet',
            },
        ),
        migrations.CreateModel(
            name='VirementCtrl',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nature', models.IntegerField(choices=[(0, 'RPT'), (1, 'TRF')], default=1)),
                ('date_saisie', models.DateField(auto_now_add=True, null=True)),
                ('ref_id', models.CharField(blank=True, default=None, max_length=20, null=True)),
                ('alias', models.CharField(max_length=30)),
                ('code_client', models.CharField(max_length=6)),
                ('benef', models.CharField(max_length=200)),
                ('montant', models.DecimalField(decimal_places=2, max_digits=18)),
                ('obs', models.TextField(blank=True, null=True)),
                ('date_recu', models.DateField(blank=True, null=True, verbose_name='Date re\xe7u')),
                ('chk_verify', models.BooleanField(default=True, verbose_name='Chk DMF')),
                ('chk_go', models.BooleanField(default=False, verbose_name='Chk DMF')),
                ('date_go', models.DateField(blank=True, null=True, verbose_name='Date de transmission')),
                ('chk_pay', models.BooleanField(default=False, verbose_name='Chk DOP')),
                ('date_val', models.DateField(blank=True, null=True)),
                ('account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.AccountCorresp', verbose_name='Account')),
                ('ccy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='util.Ccy')),
                ('client', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.ClientCtrl')),
                ('corresp', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='tiers.Corresp', verbose_name='Correspondant')),
                ('nomenclature', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='util.Catalog_Type_Commercial')),
                ('oper_approv', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='chk_virement', to=settings.AUTH_USER_MODEL, verbose_name='Approbateur')),
                ('oper_cli', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('statut', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='util.Statut')),
                ('sygma', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='interface.Sygma')),
            ],
            options={
                'verbose_name': 'Dossier des Virements',
                'db_table': 'TRF_VIRMENT_CTRL',
                'managed': True,
                'verbose_name_plural': 'Dossier des Virements',
            },
        ),
        migrations.CreateModel(
            name='TrfDossierApureCtrl',
            fields=[
                ('trfdossierapure_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='transfert.TrfDossierApure')),
                ('statut', models.IntegerField(choices=[(0, None), (1, '/OK'), (2, '/REJET')], default=0)),
                ('chk_recall', models.BooleanField(default=False, verbose_name='Chk Rappel')),
                ('date_recall', models.DateField(blank=True, null=True, verbose_name='Date Rappel')),
                ('file_recall', models.FileField(blank=True, help_text='Pi\xe8ce justificative', null=True, upload_to=transfert.models.upload_path_handler, verbose_name='Communication')),
                ('date_examen', models.DateField(blank=True, null=True)),
                ('obs', models.TextField(blank=True, null=True)),
                ('chk_decl', models.BooleanField(default=False, verbose_name='Chk D\xe9claration')),
                ('date_decl', models.DateField(blank=True, null=True, verbose_name='Chk D\xe9claration')),
            ],
            options={
                'ordering': ('-date_ref',),
                'verbose_name': "Ctrl d'apurement TRF/RPT",
                'db_table': 'TRF_DOSSIER_APURE_CTRL',
                'managed': True,
                'verbose_name_plural': "Ctrl d'apurement TRF/RPT",
            },
            bases=('transfert.trfdossierapure',),
        ),
        migrations.AddField(
            model_name='trfdossierapure',
            name='ccy',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='util.Ccy'),
        ),
        migrations.CreateModel(
            name='DossierCtrlProxyBO',
            fields=[
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT (Ctrl BO)',
                'proxy': True,
                'verbose_name_plural': 'Dossier TRF/RPT (Ctrl BO)',
            },
            bases=('transfert.dossierctrl',),
        ),
        migrations.CreateModel(
            name='DossierCtrlProxyFO',
            fields=[
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT (Ctrl FO)',
                'proxy': True,
                'verbose_name_plural': 'Dossier TRF/RPT (Ctrl FO)',
            },
            bases=('transfert.dossierctrl',),
        ),
        migrations.CreateModel(
            name='TrfDossierFxProxyFO',
            fields=[
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT FX (Ctrl FO)',
                'proxy': True,
                'verbose_name_plural': 'Dossier TRF/RPT (Ctrl FO)',
            },
            bases=('transfert.trfdossierfx',),
        ),
        migrations.CreateModel(
            name='TrfDossierIncompletProxyFO',
            fields=[
            ],
            options={
                'verbose_name': 'Dossier TRF/RPT Incomplet (Ctrl FO)',
                'proxy': True,
                'verbose_name_plural': 'Dossier TRF/RPT Incomplet (Ctrl FO)',
            },
            bases=('transfert.trfdossierincomplet',),
        ),
        migrations.AddField(
            model_name='trfdossierapurectrl',
            name='dossierCtrl',
            field=models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='dossierApureCtrl', to='transfert.DossierCtrl'),
        ),
        migrations.AddField(
            model_name='trfdossierapurectrl',
            name='oper_decl',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transfert_trfdossierapurectrl_oper_decl', to=settings.AUTH_USER_MODEL, verbose_name='Oper Decl'),
        ),
        migrations.AddField(
            model_name='trfdossierapurectrl',
            name='oper_examen',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transfert_trfdossierapurectrl_oper_examen', to=settings.AUTH_USER_MODEL, verbose_name='Oper Exam'),
        ),
        migrations.AddField(
            model_name='trfdossierapurectrl',
            name='oper_recall',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transfert_trfdossierapurectrl_oper_recall', to=settings.AUTH_USER_MODEL, verbose_name='Oper Rappel'),
        ),
        migrations.AddField(
            model_name='trfdossierapure',
            name='trfDossierApureCtrl',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='transfert.TrfDossierApureCtrl'),
        ),
        migrations.AlterUniqueTogether(
            name='dossiercouvr',
            unique_together=set([('ref_id',)]),
        ),
    ]
